<app-navigation-menu></app-navigation-menu>

<div class="container">
  <h2>Listado de Clientes</h2>

  <button type="button" class="btn btn-primary mb-3" (click)="openModal()">
    Crear Nuevo Cliente
  </button>

  <div class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>Número de Identificación</th>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>Email</th>
          <th>Teléfono</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let client of clients">
          <td>{{ client.id }}</td>
          <td>{{ client.identificationNumber }}</td>
          <td>{{ client.name }}</td>
          <td>{{ client.lastName }}</td>
          <td>{{ client.email }}</td>
          <td>{{ client.phone }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #content let-modal>
  <div class="modal-header">
    <h5 class="modal-title">Crear Nuevo Cliente</h5>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form (ngSubmit)="saveClient(modal)" #clientForm="ngForm">
      <div class="form-group">
        <label for="identificationNumber">Número de Identificación</label>
        <input
          type="text"
          class="form-control"
          id="identificationNumber"
          name="identificationNumber"
          [(ngModel)]="newClient.identificationNumber"
          required
        />
      </div>
      <div class="form-group">
        <label for="name">Nombre</label>
        <input
          type="text"
          class="form-control"
          id="name"
          name="name"
          [(ngModel)]="newClient.name"
          required
        />
      </div>
      <div class="form-group">
        <label for="lastName">Apellido</label>
        <input
          type="text"
          class="form-control"
          id="lastName"
          name="lastName"
          [(ngModel)]="newClient.lastName"
          required
        />
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input
          type="email"
          class="form-control"
          id="email"
          name="email"
          [(ngModel)]="newClient.email"
          required
        />
      </div>
      <div class="form-group">
        <label for="phone">Teléfono</label>
        <input
          type="text"
          class="form-control"
          id="phone"
          name="phone"
          [(ngModel)]="newClient.phone"
          required
        />
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-secondary"
          (click)="modal.dismiss('Cancel click')"
        >
          Cancelar
        </button>
        <button type="submit" class="btn btn-primary">Guardar</button>
      </div>
    </form>
  </div>
</ng-template>
